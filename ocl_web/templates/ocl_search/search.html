{% extends "base.html" %}

{% block content %}

<!-- Start content row -->

<div class="row">

<!-- Start Left Column -->

	<div class="col-md-3">

<!-- Search Categories -->

		<div class="list-group">
			<a href="{% url 'search' %}?type=concepts" class="list-group-item {% if searchType == 'concepts' %}active{% endif %}"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;Concepts <span class="badge">32</span></a>
			<a href="{% url 'search' %}?type=sources" class="list-group-item {% if searchType == 'sources' %}active{% endif %}"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;Sources <span class="badge">6</span></a>
			<a href="{% url 'search' %}?type=collections" class="list-group-item {% if searchType == 'collections' %}active{% endif %}"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;Collections <span class="badge">14</span></a>
			<a href="{% url 'search' %}?type=orgs" class="list-group-item {% if searchType == 'orgs' %}active{% endif %}"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;Organizations <span class="badge">3</span></a>
			<a href="{% url 'search' %}?type=users" class="list-group-item {% if searchType == 'users' %}active{% endif %}"><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;Users <span class="badge">2</span></a>
  		</div>

<!-- Filters -->

{% if results %}
		<div role="form">

	{% if searchType == 'concepts' %}
			<div class="filter-group">
				<div class="filter-group-header">Concept Class</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Anatomy</label></div>
					<div class="checkbox"><label><input type="checkbox"> Diagnosis</label></div>
					<div class="checkbox"><label><input type="checkbox"> Drug</label></div>
					<div class="checkbox"><label><input type="checkbox"> Finding</label></div>
					<div class="checkbox"><label><input type="checkbox"> Symptom</label></div>
					<div class="checkbox"><label><input type="checkbox"> Test</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

			<div class="filter-group">
				<div class="filter-group-header">Datatypes</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Boolean</label></div>
					<div class="checkbox"><label><input type="checkbox"> Coded</label></div>
					<div class="checkbox"><label><input type="checkbox"> Date</label></div>
					<div class="checkbox"><label><input type="checkbox"> N/A</label></div>
					<div class="checkbox"><label><input type="checkbox"> Numeric</label></div>
					<div class="checkbox"><label><input type="checkbox"> Text</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

	{% elif searchType == 'sources' %}
			<div class="filter-group">
				<div class="filter-group-header">Source Type</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Interface Terminology</label></div>
					<div class="checkbox"><label><input type="checkbox"> Reference Terminology</label></div>
					<div class="checkbox"><label><input type="checkbox"> Indicators</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

			<div class="filter-group">
				<div class="filter-group-header">Language</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> English <em><small>[en]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> French <em><small>[fr]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> Spanish <em><small>[es]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> Swahili <em><small>[sw]</small></em></label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

	{% elif searchType == 'collections' %}
			<div class="filter-group">
				<div class="filter-group-header">Collection Type</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Dictionary Subset</label></div>
					<div class="checkbox"><label><input type="checkbox"> Value Set</label></div>
					<div class="checkbox"><label><input type="checkbox"> ...</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

			<div class="filter-group">
				<div class="filter-group-header">Language</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> English <em><small>[en]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> French <em><small>[fr]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> Spanish <em><small>[es]</small></em></label></div>
					<div class="checkbox"><label><input type="checkbox"> Swahili <em><small>[sw]</small></em></label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div>

	{% elif searchType == 'orgs' %}
			<!--div class="filter-group">
				<div class="filter-group-header">Location</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Africa</label></div>
					<div class="checkbox"><label><input type="checkbox"> Asia</label></div>
					<div class="checkbox"><label><input type="checkbox"> Australia</label></div>
					<div class="checkbox"><label><input type="checkbox"> Europe</label></div>
					<div class="checkbox"><label><input type="checkbox"> North America</label></div>
					<div class="checkbox"><label><input type="checkbox"> South America</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div-->

	{% elif searchType == 'users' %}
			<!--div class="filter-group">
				<div class="filter-group-header">Location</div>
				<div class="filter-group-body">
					<div class="checkbox"><label><input type="checkbox"> Africa</label></div>
					<div class="checkbox"><label><input type="checkbox"> Asia</label></div>
					<div class="checkbox"><label><input type="checkbox"> Australia</label></div>
					<div class="checkbox"><label><input type="checkbox"> Europe</label></div>
					<div class="checkbox"><label><input type="checkbox"> North America</label></div>
					<div class="checkbox"><label><input type="checkbox"> South America</label></div>
					<div class="checkbox"><a href="#"><small>More &blacktriangledown;</small></a></div>
				</div>
			</div-->


	{% endif %}

		</div> <!-- end div:role=form -->

{% endif %}

<!-- End left column -->

	</div>

<!-- Start search results section -->

	<div class="col-md-9">

<!-- Search Results Summary and Sorting -->

		<div class="row">
			<div class="col-md-12">
{% if results %}
				<div class="btn-group pull-right">
				  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				    Sort <span class="caret"></span>
				  </button>
				  <ul class="dropdown-menu" role="menu">
				    <li><a href="#">Sort</a></li>
				    <li><a href="#">Another sort</a></li>
				    <li><a href="#">Something else here</a></li>
				  </ul>
				</div>
				<h4>We found {{ results|length }} {{ searchType }}.</h4>
{% else %}
				<h4>We found 0 {{ searchType }}.</h4>
{% endif %}
			</div>
		</div>

<!-- Search Results -->

{% for result in results %}
		<div class="row row-search-result">

	{% if searchType == 'concepts' %}
			<div class="col-md-1 search-result-col-checkbox">
				<input type="checkbox" />
			</div>
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-tag search-result-icon"></span>
			</div>
			<div class="col-md-10 search-result-col-content">
				<h4>
					<a href="{% url 'concept-detail' org=result.owner source=result.source concept=result.id %}" class="label label-{% if result.retired %}default{% else %}primary{% endif %}"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;{{ result.owner }} / {{ result.source }} / {{ result.id }}</a>
				</h4>
				<p>
					<span class="caption">{{ result.displayName }} <small><em>[{{ result.displayLocale }}]</em></small></span><br />
					<em>Class:</em> {{ result.conceptClass }}, <em>Datatype:</em> {{ result.datatype }}
				</p>
				{% if request.GET.debug %}<pre>{{ result|pprint }}</pre>{% endif %}
			</div>

	{% elif searchType == 'sources' %}
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-th-list search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<h4>
					<a href="{% url 'source-detail' org=result.owner source=result.id %}" class="label label-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;{{ result.owner }} / {{ result.shortCode }}</a>
				</h4>
				<p>
					<span class="caption">{{ result.name }}</span>
				</p>
				{% if request.GET.debug %}<pre>{{ result|pprint }}</pre>{% endif %}
			</div>

	{% elif searchType == 'collections' %}
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-tags search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<h4>
					<a href="{% url 'collection' %}" class="label label-{% if result.retired %}default{% else %}primary{% endif %}"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;{{ result.owner }} / {{ result.source }} / {{ result.id }}</a>
				</h4>
				<p>
					<span class="concept-name">{{ result.displayName }} <em>[{{ result.displayLocale }}]</em></span><br />
					<em>Class:</em> {{ result.conceptClass }}, <em>Datatype:</em> {{ result.datatype }}
					{% if result.lastUpdated %}<br /><span class="text-muted small">{{ result.lastUpdated }}</span>{% endif %}
				</p>

				{% if request.GET.debug %}<pre>{{ result|pprint }}</pre>{% endif %}
			</div>

	{% elif searchType == 'orgs' %}
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-home search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<h4>
					<a href="{% url 'organization-detail' org=result.id %}" class="label label-warning"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;{{ result.id }}</span></a>
				</h4>
				<p>
					<span class="concept-name">{{ result.name }}</span><br />
				</p>

				{% if request.GET.debug %}<pre>{{ result|pprint }}</pre>{% endif %}
			</div>

	{% elif searchType == 'users' %}
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-user search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<h4>
					<a href="{% url 'user' %}" class="label label-warning"><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;{{ result.username }}</a>
				</h4>
				<p>
					<span class="caption">{{ result.name }}</span>
				</p>

				{% if request.GET.debug %}<pre>{{ result|pprint }}</pre>{% endif %}
			</div>

	{% endif %}
		</div>
{% empty %}

{% endfor %}


<!-- Additional Example Results -->

		<h4><small>Additional Static Examples:</small></h4>
	{% if searchType == 'concepts' %}
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-checkbox">
				<input type="checkbox" />
			</div>
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-tag search-result-icon"></span>
			</div>
			<div class="col-md-10 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;3</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Collections containing this concept"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;1</a>
				</div>
				<h4><a href="{% url 'source' %}" class="label label-primary"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;CIEL / CIEL / 1427</a></h4>
				<p><span class="caption">Last Menstrual Period</span> <small><em>[en]</em></small><br />
					<em>Class:</em> Finding, <em>Datatype:</em> Date<br />
					<em>Collections:</em> 
						<a href="{% url 'collection' %}" class="label label-default"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;MCL / MCH Core Dataset</a>
						<br />
					<small class="text-muted">Last Updated 6 years ago</small></p>
			</div>
		</div>
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-checkbox">
				<input type="checkbox" />
			</div>
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-tag search-result-icon"></span>
			</div>
			<div class="col-md-10 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;14</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Collections containing this concept"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;12</a>
				</div>
				<h4>
					<a href="{% url 'source' %}" class="label label-primary"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;IHTSDO / SNOMED CT / 364325004</a>
				</h4>
				<p><span class="caption">Parity</span> <small><em>[en]</em></small><br />
					<em>Class:</em> Finding, <em>Datatype:</em> Numeric<br />
					<em>Collections:</em>
						<a href="{% url 'collection' %}" class="label label-default"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;MCL / MCH Core Dataset</a>&nbsp;&nbsp;
						<a href="{% url 'collection' %}" class="label label-default"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;Rwanda MOH / Rwanda MCH</a>&nbsp;&nbsp;
						<a href="{% url 'collection' %}" class="label label-default"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;paynejd / Community-MCH</a>&nbsp;&nbsp;
						...
						<br />
					<small class="text-muted">Last Updated 2 years ago</small></p>
			</div>
		</div>

	{% elif searchType == 'sources' %}
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-th-list search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;11</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#"><span class="glyphicon glyphicon-tag" title="Concepts in source"></span>&nbsp;&nbsp;40,200</a>
				</div>
				<h4>
					<a href="{% url 'source-detail' org='CIEL' source='CIEL' %}" class="label label-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;CIEL / CIEL</a>
				</h4>
				<p><span class="caption">Columbia University International eHealth Laboratory</span><br />
					<small class="text-muted">Last Updated 3 weeks ago</small></p>
			</div>
		</div>
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-th-list search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;72</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#"><span class="glyphicon glyphicon-tag" title="Concepts in source"></span>&nbsp;&nbsp;120,406</a>
				</div>
				<h4>
					<a href="{% url 'source-detail' org='IHTSDO' source='SNOMED-CT' %}" class="label label-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;IHTSDO / SNOMED-CT</a>
				</h4>
				<p><span class="caption">Systematized Nomenclature of Medicine: Clinical Terms</span><br />
					<small class="text-muted">Last Updated 1 year ago</small></p>
			</div>
		</div>

	{% elif searchType == 'collections' %}
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-tags search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;4</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Concepts in collection"><span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;122</a>
				</div>
				<h4>
					<a href="{% url 'collection' %}" class="label label-success"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;paynejd / Community-MCH</a>
				</h4>
				<p><span class="caption">Community Maternal and Child Health Core Dataset</span><br />
				<span class="text-muted small">Last Updated August 12, 2012</span></p>
			</div>
		</div>

	{% elif searchType == 'orgs' %}
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-home search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;5</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public sources owned by organization"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;1</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public collections owned by organization"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;0</a>
				</div>
				<h4>
					<a href="{% url 'organization-detail' org='IHTSDO' %}" class="label label-warning"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;IHTSDO</a>
				</h4>
				<p><span class="caption">International Health Terminology Standards Development Organization</span><br />
				<span class="text-muted small"><span class="glyphicon glyphicon-map-marker"></span>&nbsp;&nbsp;Denmark&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-calendar"></span> Created August 17, 2012</span></p>
			</div>
		</div>
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-home search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Stars"><span class="glyphicon glyphicon-star"></span>&nbsp;&nbsp;2</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public sources owned by organization"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;2</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public collections owned by organization"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;9</a>
				</div>
				<h4>
					<a href="{% url 'organization-detail' org='CIEL' %}" class="label label-warning"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;CIEL</a>
				</h4>
				<p><span class="caption">Columbia University International eHealth Laboratory</span><br />
				<span class="text-muted small"><span class="glyphicon glyphicon-map-marker"></span>&nbsp;&nbsp;New York, USA&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-calendar"></span> Created January 1, 2006</span></p>
			</div>
		</div>

	{% elif searchType == 'users' %}
		<div class="row row-search-result">
			<div class="col-md-1 search-result-col-icon">
				<span class="glyphicon glyphicon-user search-result-icon"></span>
			</div>
			<div class="col-md-11 search-result-col-content">
				<div class="pull-right small text-muted" style="padding-top:12px;">
					<a href="#" title="Followers"><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;2</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public sources owned by user"><span class="glyphicon glyphicon-th-list"></span>&nbsp;&nbsp;2</a>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a href="#" title="Public collections owned by user"><span class="glyphicon glyphicon-tags"></span>&nbsp;&nbsp;12</a>
				</div>
				<h4>
					<a href="{% url 'user' %}" class="label label-warning"><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;paynejd</a>
				</h4>
				<p><span class="caption">Jonathan Payne</span><br />
				<span class="text-muted small"><span class="glyphicon glyphicon-map-marker"></span>&nbsp;&nbsp;Boston, MA, USA&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-calendar"></span>&nbsp;&nbsp;Joined July 9, 2009</span></p>
			</div>
		</div>

	{% endif %}	

<!-- Pagination -->

{% if results %}
		<div class="row row-pagination">
			<ul class="pagination">
			  <li><a href="#">&laquo;</a></li>
			  <li><a href="#">1</a></li>
			  <li><a href="#">2</a></li>
			  <li><a href="#">3</a></li>
			  <li><a href="#">4</a></li>
			  <li><a href="#">5</a></li>
			  <li><a href="#">&raquo;</a></li>
			</ul>
		</div>
{% endif %}

<!-- End search results section -->

	</div>

<!-- End content row -->

</div>

{% endblock content %}
